<div class="container mt-4">
  <div class="card col-md-8 offset-2">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">
        <i class="bi bi-wallet2 me-2"></i>
        Détails du Compte
      </h5>
      <button class="btn btn-sm btn-outline-secondary" (click)="handleBack()">
        <i class="bi bi-arrow-left me-1"></i> Retour
      </button>
    </div>

    <div class="card-body" *ngIf="!loading && compte">
      <div class="row mb-4">
        <div class="col-md-12">
          <div class="d-flex align-items-center mb-3">
            <div class="rounded-circle d-flex align-items-center justify-content-center"
                 [ngClass]="compte.type === 'COURANT' ? 'bg-primary' : 'bg-success'"
                 style="width: 80px; height: 80px;">
              <i class="bi bi-wallet2 text-white" style="font-size: 2rem;"></i>
            </div>
            <div class="ms-3">
              <h3 class="mb-1">{{compte.numeroCompte}}</h3>
              <p class="text-muted mb-0">
                <span class="badge me-2" [ngClass]="compte.type === 'COURANT' ? 'bg-primary' : 'bg-success'">
                  {{compte.type}}
                </span>
                <span class="badge"
                      [ngClass]="{
                        'bg-info': compte.statut === 'CREATED',
                        'bg-success': compte.statut === 'ACTIVATED',
                        'bg-danger': compte.statut === 'SUSPENDED'
                      }">
                  {{compte.statut}}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <hr>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="text-muted small">Solde</label>
          <p class="fw-bold fs-4 text-success">
            {{compte.solde | number:'1.2-2'}} {{compte.devise}}
          </p>
        </div>

        <div class="col-md-6 mb-3 d-flex align-items-center">
          <div class="btn-group" role="group">

            <button *ngIf="compte.statut === 'CREATED' || compte.statut === 'SUSPENDED'"
                    class="btn btn-outline-success btn-sm"
                    (click)="handleChangeStatus('ACTIVATED')">
              <i class="bi bi-check-circle"></i> Activer
            </button>

            <button *ngIf="compte.statut === 'ACTIVATED'"
                    class="btn btn-outline-warning btn-sm"
                    (click)="handleChangeStatus('SUSPENDED')">
              <i class="bi bi-pause-circle"></i> Suspendre
            </button>

          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="text-muted small">Date Création</label>
          <p>{{compte.dateCreation | date:'dd/MM/yyyy'}}</p>
        </div>
      </div>

      <hr>

      <div class="d-flex gap-2 mt-4">
        <button class="btn btn-primary" (click)="handleOperations()">
          <i class="bi bi-arrow-left-right me-1"></i> Opérations
        </button>
        <button class="btn btn-warning" (click)="handleEditCompte()">
          <i class="bi bi-pencil-square me-1"></i> Modifier
        </button>
        <button class="btn btn-danger" (click)="handleDeleteCompte()">
          <i class="bi bi-trash me-1"></i> Supprimer
        </button>
      </div>
    </div>
  </div>
</div>
